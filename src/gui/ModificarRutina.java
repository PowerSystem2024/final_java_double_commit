/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package gui;

import servicios.ServicioRutina;
import gui.AltaCliente;
import entidad.Rutina;


public class ModificarRutina extends javax.swing.JFrame {
    ServicioRutina sr = new ServicioRutina();
    AltaCliente ac = new AltaCliente();
    Rutina rutina = new Rutina();
    /**
     * Creates new form ModificarRutina
     */
    public ModificarRutina(int idRutina) {
        initComponents();
        this.setTitle("Modificaci√≥n de rutina");
        cargarAutomatico(idRutina);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel16 = new javax.swing.JLabel();
        txtDescripcion = new javax.swing.JTextField();
        txtNivelDificultad = new javax.swing.JTextField();
        txtDuracion = new javax.swing.JTextField();
        txtNombreRutina = new javax.swing.JTextField();
        txtIdRutina = new javax.swing.JTextField();
        btnModificarCliente = new javax.swing.JButton();
        btnvolverVerRutina = new javax.swing.JButton();
        jLabel12 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setAutoRequestFocus(false);
        setBackground(new java.awt.Color(255, 153, 0));

        jLabel16.setFont(new java.awt.Font("Stencil", 1, 48)); // NOI18N
        jLabel16.setForeground(new java.awt.Color(0, 0, 0));
        jLabel16.setText("Modificacion de Rutina");

        txtDescripcion.setBackground(new java.awt.Color(255, 255, 255));
        txtDescripcion.setFont(new java.awt.Font("Dialog", 0, 14)); // NOI18N
        txtDescripcion.setForeground(new java.awt.Color(0, 0, 0));

        txtNivelDificultad.setBackground(new java.awt.Color(255, 255, 255));
        txtNivelDificultad.setFont(new java.awt.Font("Dialog", 0, 14)); // NOI18N
        txtNivelDificultad.setForeground(new java.awt.Color(0, 0, 0));

        txtDuracion.setBackground(new java.awt.Color(255, 255, 255));
        txtDuracion.setFont(new java.awt.Font("Dialog", 0, 14)); // NOI18N
        txtDuracion.setForeground(new java.awt.Color(0, 0, 0));

        txtNombreRutina.setBackground(new java.awt.Color(255, 255, 255));
        txtNombreRutina.setFont(new java.awt.Font("Dialog", 0, 14)); // NOI18N
        txtNombreRutina.setForeground(new java.awt.Color(0, 0, 0));
        txtNombreRutina.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtNombreRutinaActionPerformed(evt);
            }
        });

        txtIdRutina.setBackground(new java.awt.Color(255, 255, 255));
        txtIdRutina.setFont(new java.awt.Font("Dialog", 0, 14)); // NOI18N
        txtIdRutina.setForeground(new java.awt.Color(0, 0, 0));
        txtIdRutina.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtIdRutinaActionPerformed(evt);
            }
        });

        btnModificarCliente.setBackground(new java.awt.Color(0, 0, 0));
        btnModificarCliente.setFont(new java.awt.Font("Dialog", 1, 14)); // NOI18N
        btnModificarCliente.setForeground(new java.awt.Color(255, 173, 1));
        btnModificarCliente.setText("Modificar");
        btnModificarCliente.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnModificarClienteActionPerformed(evt);
            }
        });

        btnvolverVerRutina.setBackground(new java.awt.Color(0, 0, 0));
        btnvolverVerRutina.setFont(new java.awt.Font("Dialog", 1, 14)); // NOI18N
        btnvolverVerRutina.setForeground(new java.awt.Color(255, 173, 1));
        btnvolverVerRutina.setText("Volver");
        btnvolverVerRutina.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnvolverVerRutinaActionPerformed(evt);
            }
        });

        jLabel12.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        jLabel12.setForeground(new java.awt.Color(0, 0, 0));
        jLabel12.setText("ID:");

        jLabel7.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(0, 0, 0));
        jLabel7.setText("Nombre:");

        jLabel8.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(0, 0, 0));
        jLabel8.setText("Duracion:");

        jLabel9.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        jLabel9.setForeground(new java.awt.Color(0, 0, 0));
        jLabel9.setText("Nivel de Dificultad:");

        jLabel10.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        jLabel10.setForeground(new java.awt.Color(0, 0, 0));
        jLabel10.setText("Descripcion:");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGap(107, 107, 107)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(btnvolverVerRutina, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 303, Short.MAX_VALUE)
                        .addComponent(btnModificarCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel7)
                            .addComponent(jLabel12)
                            .addComponent(jLabel10)
                            .addComponent(jLabel9)
                            .addComponent(jLabel8))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtIdRutina)
                            .addComponent(txtNombreRutina)
                            .addComponent(txtDuracion)
                            .addComponent(txtNivelDificultad)
                            .addComponent(txtDescripcion, javax.swing.GroupLayout.Alignment.TRAILING))))
                .addGap(107, 107, 107))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabel16)
                .addGap(114, 114, 114))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(36, 36, 36)
                .addComponent(jLabel16)
                .addGap(33, 33, 33)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtIdRutina, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel12))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtNombreRutina, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel7))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtDuracion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel8))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtNivelDificultad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel9))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel10)
                    .addComponent(txtDescripcion, javax.swing.GroupLayout.PREFERRED_SIZE, 48, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnvolverVerRutina, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnModificarCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(37, 37, 37))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void txtNombreRutinaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtNombreRutinaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtNombreRutinaActionPerformed

    private void txtIdRutinaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtIdRutinaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtIdRutinaActionPerformed

    private void btnModificarClienteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnModificarClienteActionPerformed
        this.dispose();
        
        int id = Integer.parseInt(txtIdRutina.getText());
        String nombre = txtNombreRutina.getText();
        int duracion = Integer.parseInt(txtDuracion.getText());
        String niveldificultad = txtNivelDificultad.getText();
        String descripcion =  txtDescripcion.getText();
        

        sr.modificarRutina( id, nombre, duracion, niveldificultad, descripcion);

        ac.mostrarMensaje("Se modifico el cliente a la base de datos", "Info", "Modificacion exitosa");

        ConsultaCliente consulta = new ConsultaCliente();
        consulta.setVisible(true);
        consulta.setLocationRelativeTo(null);
    }//GEN-LAST:event_btnModificarClienteActionPerformed

    private void btnvolverVerRutinaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnvolverVerRutinaActionPerformed
        this.dispose();
        
        VerRutinas rutina = new VerRutinas();
        rutina.setVisible(true);
        rutina.setLocationRelativeTo(null);

    }//GEN-LAST:event_btnvolverVerRutinaActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnModificarCliente;
    private javax.swing.JButton btnvolverVerRutina;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JTextField txtDescripcion;
    private javax.swing.JTextField txtDuracion;
    private javax.swing.JTextField txtIdRutina;
    private javax.swing.JTextField txtNivelDificultad;
    private javax.swing.JTextField txtNombreRutina;
    // End of variables declaration//GEN-END:variables

    private void cargarAutomatico(int id) {
    rutina = sr.encontrarRutinaPorId(id);
    
    if (rutina != null) {
        txtIdRutina.setText(String.valueOf(rutina.getId()));
        txtIdRutina.setEditable(false);
        txtNombreRutina.setText(rutina.getNombre());
        txtDescripcion.setText(rutina.getDescripcion());
        txtDuracion.setText(String.valueOf(rutina.getDuracion()));
        txtNivelDificultad.setText(rutina.getNivelDificultad());
    } else {
        ac.mostrarMensaje("La rutina no fue encontrada", "Error", "Rutina no encontrada");
    }
}
}